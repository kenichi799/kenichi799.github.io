<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xperia 机型 - 目录</title>
    <style>
        /* Wikipedia 风格 */
        body {
            font-family: 'Georgia', serif;
            background-color: #ffffff;
            color: #222;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            transition: background-color 0.3s, color 0.3s;
        }

        /* 暗色模式 */
        body.dark-mode {
            background-color: #1e1e1e;
            color: #ddd;
        }

        .container {
            width: 95%;
            max-width: 800px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s;
        }

        body.dark-mode .container {
            background: #2a2a2a;
        }

        h1 {
            font-size: 1.8em;
            text-align: center;
            margin-bottom: 20px;
        }

        .sort-buttons, .theme-toggle {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .sort-buttons button, .theme-toggle button {
            padding: 8px 16px;
            font-size: 1em;
            border: none;
            cursor: pointer;
            border-radius: 3px;
            transition: background-color 0.3s;
        }

        .sort-buttons button {
            background-color: #0066cc;
            color: white;
        }

        .sort-buttons button:hover {
            background-color: #004999;
        }

        .theme-toggle button {
            background-color: #444;
            color: white;
        }

        body.dark-mode .theme-toggle button {
            background-color: #aaa;
            color: #222;
        }

        /* 机型列表 */
        ul {
            list-style-type: none;
            padding: 0;
        }

        .year-item {
            font-size: 1.2em;
            font-weight: bold;
            background-color: #e9ecef;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        body.dark-mode .year-item {
            background-color: #3a3a3a;
        }

        .year-item:hover {
            background-color: #d6d8db;
        }

        body.dark-mode .year-item:hover {
            background-color: #505050;
        }

        .model-sublist {
            margin-left: 20px;
            padding-left: 10px;
            display: none;
            border-left: 2px solid #ccc;
            padding-top: 5px;
        }

        body.dark-mode .model-sublist {
            border-left-color: #555;
        }

        .year-item.active .model-sublist {
            display: block;
        }

        ul li a {
            text-decoration: none;
            color: #0066cc;
        }

        ul li a:hover {
            color: #004999;
        }

        body.dark-mode ul li a {
            color: #66aaff;
        }

        body.dark-mode ul li a:hover {
            color: #4488dd;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Xperia 机型目录</h1>
        
        <div class="theme-toggle">
            <button onclick="toggleTheme()">切换暗色模式</button>
        </div>

        <div class="sort-buttons">
            <button onclick="sortModels(true)">按年份升序</button>
            <button onclick="sortModels(false)">按年份降序</button>
        </div>

        <ul id="modelList"></ul>
    </div>

    <script>
        const xperiaModels = [
            { year: 2007, models: ["Xperia X1"] },
            { year: 2008, models: ["Xperia X2"] },
            { year: 2009, models: ["Xperia X10"] },
            { year: 2010, models: ["Xperia Arc", "Xperia Play"] },
            { year: 2011, models: ["Xperia Neo", "Xperia Pro"] },
            { year: 2012, models: ["Xperia S", "Xperia U"] },
            { year: 2013, models: ["Xperia Z1", "Xperia Z Ultra"] },
            { year: 2014, models: ["Xperia Z2", "Xperia Z3"] },
            { year: 2015, models: ["Xperia Z5"] },
            { year: 2016, models: ["Xperia XZ"] },
            { year: 2017, models: ["Xperia XZ1"] },
            { year: 2018, models: ["Xperia XZ2"] },
            { year: 2019, models: ["Xperia 1"] },
            { year: 2020, models: ["Xperia 5 II"] },
            { year: 2021, models: ["Xperia Pro-I"] },
            { year: 2022, models: ["Xperia 1 IV"] },
            { year: 2023, models: ["Xperia 5 V"] }
        ];

        function renderModels(models) {
            const modelList = document.getElementById("modelList");
            modelList.innerHTML = "";

            models.forEach((item, index) => {
                const yearItem = document.createElement("li");
                yearItem.className = "year-item";
                yearItem.textContent = item.year;

                const modelSubList = document.createElement("ul");
                modelSubList.className = "model-sublist";

                item.models.forEach(model => {
                    const modelItem = document.createElement("li");
                    const modelLink = document.createElement("a");
                    modelLink.href = `./models/${model.replace(/\s+/g, '').toLowerCase()}.html`;
                    modelLink.textContent = model;
                    modelItem.appendChild(modelLink);
                    modelSubList.appendChild(modelItem);
                });

                yearItem.appendChild(modelSubList);
                modelList.appendChild(yearItem);

                if (index === models.length - 1) {
                    yearItem.classList.add("active");
                }

                yearItem.addEventListener("click", () => {
                    yearItem.classList.toggle("active");
                });
            });
        }

        function sortModels(ascending) {
            const sortedModels = [...xperiaModels].sort((a, b) => 
                ascending ? a.year - b.year : b.year - a.year
            );
            renderModels(sortedModels);
        }

        function toggleTheme() {
            document.body.classList.toggle("dark-mode");
            localStorage.setItem("theme", document.body.classList.contains("dark-mode") ? "dark" : "light");
        }

        if (localStorage.getItem("theme") === "dark" || window.matchMedia("(prefers-color-scheme: dark)").matches) {
            document.body.classList.add("dark-mode");
        }

        renderModels(xperiaModels);
    </script>
</body>
</html>
